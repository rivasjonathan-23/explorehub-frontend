<div *ngIf="message.message" (click)="showDate = !showDate" [class.right]="position == 'right'" class="messageBox">
  <div class="boxHeader" *ngIf="!message.noSender && mainService.user._id != message.sender">
    <div class="profilePhoto">
      <div class="pPhoto">
        <ion-icon name="person-outline"></ion-icon>
      </div>
    </div>

    <div class="userInfo">
      <div class="userName" >
        {{message.senderFullName}}</div>
     
    </div>
  </div>
  <div class="messageHolder">

    <div class="messageContent" *ngIf="message.withMedia; else plainText" [innerHTML]="message.message">
    </div>
    <ng-template #plainText>
      <div class="messageContent" [innerHTML]="message.message"></div>
    </ng-template>
  </div>
  <div class="date" [class.ownMessageDate]="position == 'right'" >{{ message.createdAt == "Sending..." ?
    "Sending..." : message.createdAt | date:'short'}}</div>
</div>